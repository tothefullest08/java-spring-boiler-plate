# 제품 개요

DDD와 CQRS 패턴을 적용한 멀티 프로젝트 구조의 음식 주문 시스템입니다. 3개의 독립적인 바운디드 컨텍스트로 구성되며, 각각 별도의 Spring Boot 애플리케이션으로 실행됩니다.

## 멀티 프로젝트 구조

### Shop Context (가게 컨텍스트)
- **프로젝트 경로**: `domains/shop/`
- **패키지**: `harry.boilerplate.shop`
- **실행 포트**: 8081
- **책임**: 가게 운영 관리, 메뉴 카탈로그 관리, 옵션 및 가격 관리
- **주요 애그리게이트**: `Shop`, `Menu`

### Order Context (주문 컨텍스트)
- **프로젝트 경로**: `domains/order/`
- **패키지**: `harry.boilerplate.order`
- **실행 포트**: 8082
- **책임**: 장바구니 관리, 주문 처리, 주문 이력 관리
- **주요 애그리게이트**: `Cart`, `Order`

### User Context (사용자 컨텍스트)
- **프로젝트 경로**: `domains/user/`
- **패키지**: `harry.boilerplate.user`
- **실행 포트**: 8083
- **책임**: 사용자 식별, 사용자별 장바구니/주문 연결
- **주요 애그리게이트**: `User`

## 핵심 비즈니스 규칙

### Shop Context 핵심 유즈케이스
- **가게 영업 상태 확인**: `Shop.isOpen()` 메서드로 요일별 운영시간 기준 영업 여부 판단
- **메뉴 공개/비공개**: `Menu.open()` 메서드로 옵션그룹 조건 검증 후 공개
- **옵션 관리**: `Menu.addOptionGroup()`, `Menu.changeOptionGroupName()` 등 메서드 활용

### Order Context 핵심 유즈케이스
- **장바구니 관리**: `Cart.addItem()`, `Cart.start()` 메서드로 단일 가게 규칙 적용
- **주문 생성**: `Cart.placeOrder()` 메서드로 장바구니 정보를 주문으로 복사
- **금액 계산**: `Cart.getTotalPrice()`, `Order.getPrice()` 메서드로 Money 타입 반환

### User Context 핵심 유즈케이스
- **사용자 식별**: 사용자 ID를 통한 유효성 확인 및 장바구니/주문 연결

## 컨텍스트 간 상호작용

### 의존성 격리 원칙
- **완전한 의존성 격리**: 바운디드 컨텍스트 간 직접적인 코드 의존성 완전 차단
- **독립적 배포**: 각 컨텍스트는 독립적으로 배포 가능
- **별도 데이터베이스**: 각 컨텍스트는 자체 데이터베이스/스키마 사용

### API 기반 통신
- **REST API 필수**: 컨텍스트 간 데이터 조회는 반드시 HTTP REST API 사용
- **데이터 변환**: API 응답 데이터는 호출하는 컨텍스트의 도메인 객체로 변환

### 이벤트 기반 통신
- **도메인 이벤트**: `OrderPlaced`, `MenuOpened`, `ShopClosed` 등 중요 비즈니스 이벤트 발행
- **비동기 처리**: 모든 이벤트 처리는 비동기로 수행
- **이벤트 저장소**: 이벤트는 영구 저장소에 저장하여 재처리 가능